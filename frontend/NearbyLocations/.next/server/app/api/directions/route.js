(()=>{var e={};e.id=332,e.ids=[332],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>l,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>c});var o=r(6559),i=r(8088),n=r(7719),a=r(2190);async function c(e){let t=e.nextUrl.searchParams,r=t.get("fromLat"),s=t.get("fromLon"),o=t.get("toLat"),i=t.get("toLon");if(!r||!s||!o||!i)return a.NextResponse.json({error:"Origin and destination coordinates are required"},{status:400});try{let e=`https://api.geoapify.com/v1/routing?waypoints=${r},${s}|${o},${i}&mode=drive&details=instruction_details&apiKey=e43c6e276b2d4f7eae552ce3afad8caf`;console.log("Fetching directions from API");let t=await fetch(e,{headers:{Accept:"application/json","User-Agent":"Tourist Location Finder/1.0"},cache:"no-store"});if(!t.ok)throw console.error("Directions API error:",t.status,t.statusText),Error(`Directions API returned ${t.status}`);let n=await t.json();if(console.log("Directions response received"),!n.features||0===n.features.length)return console.log("No routes found"),a.NextResponse.json({});let c=n.features[0].properties,p={distance:c.distance,time:c.time,steps:[]};return c.legs&&c.legs.length>0&&c.legs.forEach(e=>{e.steps&&e.steps.length>0&&e.steps.forEach(e=>{p.steps.push({instruction:e.instruction,distance:e.distance,time:e.time})})}),a.NextResponse.json(p)}catch(e){return console.error("Error fetching directions:",e),a.NextResponse.json({error:"Failed to fetch directions"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/directions/route",pathname:"/api/directions",filename:"route",bundlePath:"app/api/directions/route"},resolvedPagePath:"C:\\Users\\HP\\OneDrive\\Desktop\\geoproject\\MiniProject\\NearbyLocations\\app\\api\\directions\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:u,workUnitAsyncStorage:d,serverHooks:l}=p;function g(){return(0,n.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:d})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(3552));module.exports=s})();