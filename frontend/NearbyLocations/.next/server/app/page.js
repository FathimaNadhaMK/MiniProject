(()=>{var e={};e.id=974,e.ids=[974],e.modules={246:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>R});var t=a(687),i=a(3210);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,i.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:t,className:r="",children:c,iconNode:o,...d},h)=>(0,i.createElement)("svg",{ref:h,...l,width:s,height:s,stroke:e,strokeWidth:t?24*Number(a)/Number(s):a,className:n("lucide",r),...d},[...o.map(([e,s])=>(0,i.createElement)(e,s)),...Array.isArray(c)?c:[c]])),o=(e,s)=>{let a=(0,i.forwardRef)(({className:a,...t},l)=>(0,i.createElement)(c,{ref:l,iconNode:s,className:n(`lucide-${r(e)}`,a),...t}));return a.displayName=`${e}`,a},d=o("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),h=o("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),m=o("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),u=o("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),g=o("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x=o("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]),p=o("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),j=o("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),N=o("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=o("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),f=o("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function b({locationName:e,onImageSelect:s,className:a=""}){let[r,n]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(""),[h,m]=(0,i.useState)([]),[g,x]=(0,i.useState)(!1),j=(0,i.useRef)(null),b=(0,i.useRef)(null),y=(0,i.useRef)(null),w=(0,i.useRef)(null),k=(0,i.useRef)(null),$=async e=>{if(e.trim()){x(!0),c(null);try{let s=`https://commons.wikimedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(e)}+filetype:bitmap|drawing&srnamespace=6&format=json&origin=*&srlimit=20`,a=await fetch(s);if(!a.ok)throw Error(`Search API error: ${a.status}`);let t=await a.json();if(!t.query||!t.query.search){m([]),c("No images found. Try a different search term.");return}let i=(await Promise.all(t.query.search.map(async e=>{e.title.replace("File:","");let s=`https://commons.wikimedia.org/w/api.php?action=query&titles=${encodeURIComponent(e.title)}&prop=imageinfo&iiprop=url|size&format=json&origin=*`;try{let a=await fetch(s),t=(await a.json()).query.pages,i=Object.keys(t)[0];if(t[i].imageinfo&&t[i].imageinfo.length>0){let s=t[i].imageinfo[0];return{title:e.title,url:s.url,thumbUrl:s.url,width:s.width,height:s.height,snippet:e.snippet}}return null}catch(e){return console.error("Error fetching image info:",e),null}}))).filter(e=>null!==e);m(i),0===i.length&&c("No images found. Try a different search term.")}catch(e){console.error("Search error:",e),c("Error performing search. Please try again.")}finally{x(!1)}}},S=e=>{e?.preventDefault(),$(o)},C=e=>{s&&s(e)};return(0,t.jsxs)("div",{className:`image-search-sidebar ${a}`,children:[(0,t.jsx)("div",{className:"image-search-header",children:(0,t.jsxs)("h3",{className:"image-search-title",children:[(0,t.jsx)(u,{className:"image-search-icon"}),e?`${e} ചിത്രങ്ങൾ`:"ടൂറിസ്റ്റ് സ്ഥലങ്ങളുടെ ചിത്രങ്ങൾ"]})}),(0,t.jsx)("form",{ref:b,onSubmit:S,className:"image-search-form",children:(0,t.jsxs)("div",{className:"search-input-wrapper",children:[(0,t.jsx)("input",{ref:y,type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"ചിത്രങ്ങൾ തിരയുക...",className:"search-input",disabled:g}),(0,t.jsx)("button",{ref:w,type:"submit",className:"search-button",disabled:g||!o.trim(),"aria-label":"Search",children:g?(0,t.jsx)(N,{className:"animate-spin"}):(0,t.jsx)(p,{})})]})}),l&&(0,t.jsxs)("div",{className:"image-search-error",children:[(0,t.jsx)(v,{className:"error-icon"}),(0,t.jsx)("p",{children:l}),(0,t.jsxs)("button",{onClick:S,className:"retry-button",children:[(0,t.jsx)(f,{className:"retry-icon"}),"വീണ്ടും ശ്രമിക്കുക"]})]}),r&&(0,t.jsxs)("div",{className:"search-loading",children:[(0,t.jsx)(N,{className:"search-loading-spinner animate-spin"}),(0,t.jsx)("p",{children:"തിരയൽ എഞ്ചിൻ ലോഡ് ചെയ്യുന്നു..."})]}),g&&(0,t.jsxs)("div",{className:"search-loading",children:[(0,t.jsx)(N,{className:"search-loading-spinner animate-spin"}),(0,t.jsx)("p",{children:"ചിത്രങ്ങൾ തിരയുന്നു..."})]}),(0,t.jsx)("div",{className:"search-results-container",ref:j,children:(0,t.jsx)("div",{className:"search-results-grid",ref:k,children:h.length>0&&!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"search-results-count",children:[h.length," ചിത്രങ്ങൾ കണ്ടെത്തി"]}),h.map((e,s)=>(0,t.jsxs)("div",{className:"search-result-item",children:[(0,t.jsx)("div",{className:"search-result-image-container",children:(0,t.jsx)("img",{src:e.thumbUrl||"/placeholder.svg",alt:e.title,className:"search-result-image",onClick:()=>C(e.url),loading:"lazy"})}),(0,t.jsx)("div",{className:"search-result-title",title:e.title,children:e.title.replace("File:","")})]},s))]})})}),(0,t.jsx)("div",{className:"image-search-footer",children:(0,t.jsx)("p",{className:"image-search-attribution",children:"ചിത്രങ്ങൾ: വിക്കിമീഡിയ കോമൺസ്"})})]})}function y({location:e,onClose:s,userLocation:a,onImageSelect:r}){let[n,l]=(0,i.useState)("info"),[c,o]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),[N,v]=(0,i.useState)(!1);(0,i.useRef)(!0);let f=s=>{if(!s)return`/placeholder.svg?height=400&width=800&text=${encodeURIComponent(e.name)}`;let a=s.toLowerCase();if(a.includes("temple")||a.includes("religion"))return"/placeholder.svg?height=400&width=800&text=Temple";if(a.includes("beach")||a.includes("water"))return"/placeholder.svg?height=400&width=800&text=Beach";if(a.includes("mosque"))return"/placeholder.svg?height=400&width=800&text=Mosque";if(a.includes("museum")||a.includes("culture"))return"/placeholder.svg?height=400&width=800&text=Museum";if(a.includes("waterfall"))return"/placeholder.svg?height=400&width=800&text=Waterfall";else if(a.includes("hill")||a.includes("mountain"))return"/placeholder.svg?height=400&width=800&text=Hill";else if(a.includes("backwater")||a.includes("lake"))return"/placeholder.svg?height=400&width=800&text=Backwater";else if(a.includes("fort")||a.includes("historic"))return"/placeholder.svg?height=400&width=800&text=Historic+Site";else if(a.includes("palace"))return"/placeholder.svg?height=400&width=800&text=Palace";else if(a.includes("wildlife")||a.includes("sanctuary"))return"/placeholder.svg?height=400&width=800&text=Wildlife";return`/placeholder.svg?height=400&width=800&text=${encodeURIComponent(e.name)}`};return e?(0,t.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&s()},children:(0,t.jsxs)("div",{className:"modal-container",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h2",{children:e.name}),(0,t.jsx)("button",{className:"close-button",onClick:s,children:(0,t.jsx)(g,{className:"icon-small"})})]}),(0,t.jsxs)("div",{className:"modal-tabs",children:[(0,t.jsxs)("button",{className:`tab-button ${"info"===n?"active":""}`,onClick:()=>l("info"),children:[(0,t.jsx)(m,{className:"tab-icon"}),"വിവരങ്ങൾ"]}),(0,t.jsxs)("button",{className:`tab-button ${"images"===n?"active":""}`,onClick:()=>l("images"),children:[(0,t.jsx)(u,{className:"tab-icon"}),"ചിത്രങ്ങൾ"]})]}),(0,t.jsxs)("div",{className:"modal-content",children:["info"===n&&(0,t.jsxs)("div",{className:"info-tab",children:[(0,t.jsxs)("div",{className:"location-image-container",children:[!h&&(0,t.jsx)("div",{className:"image-loading-placeholder"}),c?(0,t.jsx)("img",{src:c||"/placeholder.svg",alt:e.name,className:`location-image ${h?"loaded":""}`,onLoad:()=>p(!0),onError:()=>{v(!0),o(f(e.categories&&e.categories.length>0?e.categories[0]:null)),p(!0)},loading:"lazy",width:"800",height:"400"}):N?(0,t.jsxs)("div",{className:"image-error-container",children:[(0,t.jsx)(x,{className:"image-error-icon"}),(0,t.jsx)("p",{children:"ചിത്രം ലഭ്യമല്ല"})]}):null]}),(0,t.jsxs)("div",{className:"location-details",children:[(0,t.jsxs)("div",{className:"detail-item",children:[(0,t.jsx)(d,{className:"detail-icon"}),(0,t.jsx)("p",{children:e.address})]}),e.distance&&(0,t.jsxs)("div",{className:"detail-item",children:[(0,t.jsx)(j,{className:"detail-icon"}),(0,t.jsx)("p",{children:e.distance>=1e3?`${(e.distance/1e3).toFixed(1)} കി.മീ.`:`${Math.round(e.distance)} മീറ്റർ`})]}),(0,t.jsx)("div",{className:"location-description",children:(0,t.jsx)("p",{children:e.description})}),e.categories&&e.categories.length>0&&(0,t.jsx)("div",{className:"category-badges",children:e.categories.map(e=>(0,t.jsx)("span",{className:"category-badge",children:e},e))})]}),(0,t.jsx)("div",{className:"action-buttons",children:(0,t.jsxs)("button",{className:"view-images-button",onClick:()=>l("images"),children:[(0,t.jsx)(u,{className:"button-icon"}),"ചിത്രങ്ങൾ കാണുക"]})})]}),"images"===n&&(0,t.jsxs)("div",{className:"images-tab",children:[(0,t.jsxs)("div",{className:"current-image-container",children:[(0,t.jsx)("h4",{children:"നിലവിലെ ചിത്രം"}),c?(0,t.jsx)("img",{src:c||"/placeholder.svg",alt:e.name,className:"current-location-image",loading:"lazy",width:"400",height:"200"}):(0,t.jsxs)("div",{className:"no-image-placeholder",children:[(0,t.jsx)(x,{className:"no-image-icon"}),(0,t.jsx)("p",{children:"ചിത്രം ലഭ്യമല്ല"})]})]}),(0,t.jsx)(b,{locationName:e.name,onImageSelect:e=>{e&&(o(e),p(!0),v(!1),r&&r(e))}})]})]})]})}):null}function w({location:e,onGetDirections:s,showDirectionsButton:a,onViewMore:r,onImageSearch:n}){let[l,c]=(0,i.useState)(!1),[o,h]=(0,i.useState)(null),[m,u]=(0,i.useState)(!1),[g,N]=(0,i.useState)(!1),{name:v,description:f,distance:b,address:w,categories:k}=e,$=b>=1e3?`${(b/1e3).toFixed(1)} കി.മീ.`:`${Math.round(b)} മീറ്റർ`,S=s=>{if(!s)return`/placeholder.svg?height=192&width=384&text=${encodeURIComponent(e.name)}`;let a=s.toLowerCase();if(a.includes("temple")||a.includes("religion"))return"/placeholder.svg?height=192&width=384&text=Temple";if(a.includes("beach")||a.includes("water"))return"/placeholder.svg?height=192&width=384&text=Beach";if(a.includes("mosque"))return"/placeholder.svg?height=192&width=384&text=Mosque";if(a.includes("museum")||a.includes("culture"))return"/placeholder.svg?height=192&width=384&text=Museum";if(a.includes("waterfall"))return"/placeholder.svg?height=192&width=384&text=Waterfall";else if(a.includes("hill")||a.includes("mountain"))return"/placeholder.svg?height=192&width=384&text=Hill";else if(a.includes("backwater")||a.includes("lake"))return"/placeholder.svg?height=192&width=384&text=Backwater";else if(a.includes("fort")||a.includes("historic"))return"/placeholder.svg?height=192&width=384&text=Historic+Site";else if(a.includes("palace"))return"/placeholder.svg?height=192&width=384&text=Palace";else if(a.includes("wildlife")||a.includes("sanctuary"))return"/placeholder.svg?height=192&width=384&text=Wildlife";return`/placeholder.svg?height=192&width=384&text=${encodeURIComponent(e.name)}`};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"location-card",children:[(0,t.jsxs)("div",{className:"card-image-container",children:[!m&&(0,t.jsx)("div",{className:"image-loading-placeholder"}),o?(0,t.jsx)("img",{src:o||"/placeholder.svg",alt:v,className:`standard-image ${m?"loaded":""}`,onError:()=>{console.log("Image failed to load:",e.name),N(!0),h(S(e.categories&&e.categories.length>0?e.categories[0]:null)),u(!0)},onLoad:()=>{u(!0),N(!1)},loading:"lazy",width:"384",height:"192"}):g?(0,t.jsxs)("div",{className:"image-error-container",children:[(0,t.jsx)(x,{className:"image-error-icon"}),(0,t.jsx)("p",{children:"ചിത്രം ലഭ്യമല്ല"})]}):null,n&&(0,t.jsx)("button",{className:"image-search-button",onClick:s=>{s.stopPropagation(),n&&n(e.name)},title:"ചിത്രങ്ങൾ തിരയുക","aria-label":"Search for images",children:(0,t.jsx)(p,{className:"image-search-icon"})})]}),(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h3",{className:"card-title",children:v}),(0,t.jsxs)("div",{className:"card-address",children:[(0,t.jsx)(d,{className:"icon-small"}),w]})]}),(0,t.jsxs)("div",{className:"card-content",children:[(0,t.jsx)("p",{className:"card-description",children:f}),k&&k.length>0&&(0,t.jsxs)("div",{className:"category-badges",children:[k.slice(0,3).map(e=>(0,t.jsx)("span",{className:"category-badge",children:e},e)),k.length>3&&(0,t.jsxs)("span",{className:"category-badge",children:["+",k.length-3]})]})]}),(0,t.jsxs)("div",{className:"card-footer",children:[(0,t.jsxs)("div",{className:"distance-indicator",children:[(0,t.jsx)(j,{className:"icon-small"}),(0,t.jsx)("span",{children:$})]}),(0,t.jsx)("div",{className:"card-actions",children:a?(0,t.jsxs)("button",{className:"directions-button",onClick:()=>s(e),"aria-label":"Get directions",children:[(0,t.jsx)(j,{className:"icon-small"}),"വഴി കാണിക്കുക"]}):(0,t.jsx)("button",{className:"view-more-button",onClick:()=>{r?r(e):c(!0)},"aria-label":"View more details",children:"കൂടുതൽ കാണുക"})})]})]}),l&&(0,t.jsx)(y,{location:{...e,imageUrl:o},onClose:()=>c(!1),userLocation:null,onImageSelect:e=>{e&&(h(e),u(!0),N(!1))}})]})}a(4129),a(9340),a(4356);let k=o("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a(5657);let $=[{name:"തിരുവനന്തപുരം",englishName:"Thiruvananthapuram",lat:8.5241,lon:76.9366},{name:"കൊല്ലം",englishName:"Kollam",lat:8.8932,lon:76.6141},{name:"പത്തനംതിട്ട",englishName:"Pathanamthitta",lat:9.2648,lon:76.787},{name:"ആലപ്പുഴ",englishName:"Alappuzha",lat:9.4981,lon:76.3388},{name:"കോട്ടയം",englishName:"Kottayam",lat:9.5916,lon:76.5222},{name:"ഇടുക്കി",englishName:"Idukki",lat:9.9189,lon:77.1025},{name:"എറണാകുളം",englishName:"Ernakulam",lat:9.9816,lon:76.2999},{name:"തൃശ്ശൂർ",englishName:"Thrissur",lat:10.5276,lon:76.2144},{name:"പാലക്കാട്",englishName:"Palakkad",lat:10.7867,lon:76.6548},{name:"മലപ്പുറം",englishName:"Malappuram",lat:11.051,lon:76.0711},{name:"കോഴിക്കോട്",englishName:"Kozhikode",lat:11.2588,lon:75.7804},{name:"വയനാട്",englishName:"Wayanad",lat:11.6854,lon:76.132},{name:"കണ്ണൂർ",englishName:"Kannur",lat:11.8745,lon:75.3704},{name:"കാസർഗോഡ്",englishName:"Kasaragod",lat:12.4996,lon:74.9869}];function S({onSelectDistrict:e,selectedDistrict:s}){let[a,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(""),[c,o]=(0,i.useState)($),h=s=>{e(s),r(!1),l("")};return(0,t.jsxs)("div",{className:"district-selector-container",children:[(0,t.jsx)("div",{className:"selector-label",children:"ജില്ല തിരഞ്ഞെടുക്കുക:"}),(0,t.jsxs)("div",{className:"district-dropdown",children:[(0,t.jsxs)("button",{className:"district-dropdown-button",onClick:()=>r(!a),type:"button",children:[s?(0,t.jsxs)("span",{className:"selected-district",children:[(0,t.jsx)(d,{className:"district-icon"}),s.name]}):(0,t.jsx)("span",{className:"placeholder-text",children:"ജില്ല തിരഞ്ഞെടുക്കുക"}),(0,t.jsx)(k,{className:"dropdown-icon"})]}),a&&(0,t.jsxs)("div",{className:"district-dropdown-content",children:[(0,t.jsx)("div",{className:"district-search",children:(0,t.jsx)("input",{type:"text",placeholder:"ജില്ല തിരയുക...",value:n,onChange:e=>l(e.target.value),className:"district-search-input"})}),(0,t.jsxs)("div",{className:"districts-list",children:[c.map(e=>(0,t.jsxs)("div",{className:`district-item ${s?.englishName===e.englishName?"selected":""}`,onClick:()=>h(e),children:[(0,t.jsx)(d,{className:"district-icon"}),(0,t.jsx)("span",{children:e.name}),(0,t.jsxs)("span",{className:"district-english-name",children:["(",e.englishName,")"]})]},e.englishName)),0===c.length&&(0,t.jsx)("div",{className:"no-districts-found",children:"ഫലങ്ങളൊന്നും കണ്ടെത്തിയില്ല"})]})]})]})]})}function C({onSearch:e,isSearching:s,onDistrictSelect:a=()=>{},onRadiusChange:r=()=>{},initialRadius:n=20}){let[l,c]=(0,i.useState)(""),[o,h]=(0,i.useState)(!1),[m,u]=(0,i.useState)(null),[g,x]=(0,i.useState)(n),j=["തിരുവനന്തപുരം","കൊല്ലം","പത്തനംതിട്ട","ആലപ്പുഴ","കോട്ടയം","ഇടുക്കി","എറണാകുളം","കൊച്ചി","തൃശ്ശൂർ","പാലക്കാട്","മലപ്പുറം","കോഴിക്കോട്","വയനാട്","കണ്ണൂർ","കാസർഗോഡ്","മുന്നാർ","കുമളി","തേക്കടി","വർക്കല","കോവളം","കുമരകം","വാഗമൺ","പൊന്മുടി","അട്ടപ്പാടി","സൈലന്റ് വാലി","ആറന്മുള","ഗുരുവായൂർ","ബേക്കൽ","കൊടുങ്ങല്ലൂർ","ചാലക്കുടി"],N=s=>{c(s),e(s,g),h(!1)};return(0,t.jsx)("div",{className:"search-container",children:(0,t.jsxs)("form",{onSubmit:s=>{s.preventDefault(),l.trim()?(h(!1),e(l,g)):m&&a(m,g)},className:"search-form",children:[(0,t.jsxs)("div",{className:"search-options",children:[(0,t.jsx)(S,{onSelectDistrict:e=>{u(e),c(""),a(e,g)},selectedDistrict:m}),(0,t.jsxs)("div",{className:"radius-selector",children:[(0,t.jsxs)("label",{htmlFor:"radius-slider",className:"radius-label",children:["തിരയൽ റേഡിയസ്: ",(0,t.jsxs)("span",{className:"radius-value",children:[g," കി.മീ."]})]}),(0,t.jsx)("input",{type:"range",id:"radius-slider",min:"5",max:"50",step:"5",value:g,onChange:e=>{let s=Number.parseInt(e.target.value);x(s),r(s)},className:"radius-slider"}),(0,t.jsxs)("div",{className:"radius-markers",children:[(0,t.jsx)("span",{children:"5"}),(0,t.jsx)("span",{children:"20"}),(0,t.jsx)("span",{children:"35"}),(0,t.jsx)("span",{children:"50"})]})]})]}),(0,t.jsxs)("div",{className:"search-input-wrapper",children:[(0,t.jsxs)("div",{className:"search-input-container",children:[(0,t.jsx)(d,{className:"input-icon"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>{c(e.target.value),h(!0)},onFocus:()=>h(!0),placeholder:"സ്ഥലത്തിന്റെ പേര് തിരയുക...",className:"search-input",disabled:s}),(0,t.jsx)("button",{type:"submit",className:"search-button",disabled:s||!l.trim()&&!m,children:s?(0,t.jsx)("span",{className:"search-loading"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{className:"search-icon"}),(0,t.jsx)("span",{children:"സ്ഥലങ്ങൾ തിരയുക"})]})})]}),o&&l.trim()&&(0,t.jsx)("div",{className:"suggestions-container",children:j.filter(e=>e.toLowerCase().includes(l.toLowerCase())||l.toLowerCase().includes(e.toLowerCase())).slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"suggestion-item",onClick:()=>N(e),children:[(0,t.jsx)(d,{className:"suggestion-icon"}),e]},s))})]}),(0,t.jsxs)("div",{className:"popular-locations",children:[(0,t.jsx)("span",{className:"popular-label",children:"പ്രശസ്തമായ സ്ഥലങ്ങൾ:"}),j.slice(0,5).map((e,s)=>(0,t.jsx)("button",{type:"button",className:"location-tag",onClick:()=>N(e),children:e},s))]})]})})}function P({message:e,onRetry:s,debugInfo:a,onSearch:i,isSearching:r,onDistrictSelect:n}){return(0,t.jsxs)("div",{className:"error-container",children:[(0,t.jsxs)("div",{className:"error-alert",children:[(0,t.jsx)(v,{className:"icon-small"}),(0,t.jsx)("h3",{className:"error-title",children:"സ്ഥാനം കണ്ടെത്താൻ കഴിഞ്ഞില്ല"}),(0,t.jsx)("p",{className:"error-message",children:e})]}),a&&(0,t.jsxs)("div",{className:"debug-info",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Debug Info:"})," ",a]}),(0,t.jsxs)("p",{className:"browser-info",children:[(0,t.jsx)("strong",{children:"Browser:"})," ",navigator.userAgent]})]}),(0,t.jsxs)("div",{className:"search-section",children:[(0,t.jsxs)("h4",{className:"search-title",children:[(0,t.jsx)(p,{className:"icon-small"}),"മറ്റൊരു സ്ഥലം തിരയുക"]}),(0,t.jsx)(C,{onSearch:i,isSearching:r,onDistrictSelect:n})]}),(0,t.jsxs)("div",{className:"retry-section",children:[(0,t.jsx)("button",{className:"retry-button",onClick:s,children:"വീണ്ടും ശ്രമിക്കുക"}),(0,t.jsxs)("div",{className:"help-section",children:[(0,t.jsx)("h4",{children:"ലൊക്കേഷൻ അനുമതി നൽകുന്നതിനുള്ള നിർദ്ദേശങ്ങൾ:"}),(0,t.jsxs)("ol",{children:[(0,t.jsx)("li",{children:"ബ്രൗസറിന്റെ അഡ്രസ് ബാറിൽ ലൊക്കേഷൻ ഐക്കൺ ക്ലിക്ക് ചെയ്യുക"}),(0,t.jsx)("li",{children:"ഈ വെബ്സൈറ്റിന് ലൊക്കേഷൻ അനുമതി നൽകുക"}),(0,t.jsx)("li",{children:'പേജ് റീലോഡ് ചെയ്യുക അല്ലെങ്കിൽ "വീണ്ടും ശ്രമിക്കുക" ബട്ടൺ ക്ലിക്ക് ചെയ്യുക'})]})]})]})]})}function I({debugInfo:e}){return(0,t.jsxs)("div",{className:"loading-container",children:[(0,t.jsx)(N,{className:"loading-spinner"}),(0,t.jsx)("h3",{className:"loading-title",children:"സമീപത്തുള്ള സ്ഥലങ്ങൾ തിരയുന്നു..."}),(0,t.jsx)("p",{className:"loading-message",children:"ദയവായി കാത്തിരിക്കുക, നിങ്ങളുടെ സ്ഥാനത്തിന് സമീപമുള്ള ടൂറിസ്റ്റ് കേന്ദ്രങ്ങൾ കണ്ടെത്തുന്നു."}),e&&(0,t.jsx)("div",{className:"debug-info",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",e]})})]})}function M({location:e,onClose:s}){return(0,t.jsxs)("div",{className:"directions-container",children:[(0,t.jsxs)("div",{className:"directions-header",children:[(0,t.jsxs)("button",{className:"back-button",onClick:s,children:[(0,t.jsx)(h,{className:"icon-small"}),"മടങ്ങുക"]}),(0,t.jsx)("h2",{children:"വഴി നിർദ്ദേശങ്ങൾ"})]}),(0,t.jsxs)("div",{className:"directions-destination",children:[(0,t.jsx)("h3",{children:e.name}),(0,t.jsxs)("p",{className:"destination-address",children:[(0,t.jsx)(d,{className:"icon-small"}),e.address]})]}),(0,t.jsx)("div",{className:"directions-info",children:(0,t.jsx)("p",{children:"ഈ സ്ഥലത്തേക്കുള്ള വഴി നിർദ്ദേശങ്ങൾ ലഭിക്കുന്നതിന് നിങ്ങളുടെ മൊബൈൽ ഫോണിലെ മാപ്പ് ആപ്ലിക്കേഷൻ ഉപയോഗിക്കുക. നിങ്ങളുടെ നിലവിലെ സ്ഥാനത്തിൽ നിന്ന് ഈ സ്ഥലത്തേക്ക് എത്തിച്ചേരാനുള്ള വഴി നിർദ്ദേശങ്ങൾ ലഭിക്കും."})}),(0,t.jsx)("div",{className:"directions-note",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"കുറിപ്പ്:"})," ഈ ആപ്ലിക്കേഷൻ നിലവിൽ വഴി നിർദ്ദേശങ്ങൾ നേരിട്ട് കാണിക്കുന്നില്ല. കൃത്യമായ വഴി നിർദ്ദേശങ്ങൾക്ക് നിങ്ങളുടെ മൊബൈൽ ഫോണിലെ മാപ്പ് ആപ്ലിക്കേഷൻ ഉപയോഗിക്കുക."]})})]})}function R(){let[e,s]=(0,i.useState)([]),[a,r]=(0,i.useState)(!0),[n,l]=(0,i.useState)(null),[c,o]=(0,i.useState)(null),[x,p]=(0,i.useState)(null),[j,N]=(0,i.useState)(null),[v,f]=(0,i.useState)(!1),[k,$]=(0,i.useState)(null),[S,R]=(0,i.useState)(!1),[q,A]=(0,i.useState)(20),[D,L]=(0,i.useState)(!1),[E,U]=(0,i.useState)(null),[F,z]=(0,i.useState)(!1),[H,_]=(0,i.useState)(!0),[G,O]=(0,i.useState)(""),[T,B]=(0,i.useState)([]),W=(0,i.useRef)(!0);(0,i.useRef)(null);let K=(0,i.useRef)({}),V=(0,i.useCallback)(()=>{if(r(!0),l(null),p("Attempting to get location..."),!navigator.geolocation){p("Geolocation is not supported by this browser"),l("നിങ്ങളുടെ ബ്രൗസർ ജിയോലൊക്കേഷൻ പിന്തുണയ്ക്കുന്നില്ല."),r(!1);return}navigator.geolocation.getCurrentPosition(async e=>{try{let{latitude:a,longitude:t}=e.coords;p(`Location obtained: ${a.toFixed(6)}, ${t.toFixed(6)}`),o({lat:a,lon:t}),p("Fetching locations from API..."),console.log("fetching locations from API...");let i=await fetch(`/api/tourist-locations?lat=${a}&lon=${t}&radius=${q}`);if(!i.ok)throw Error(`API responded with status: ${i.status}`);let n=await i.json();p(`Received ${n.length} locations from API`),W.current&&(s(n),r(!1),z(!0),B(n.slice(0,5).map(e=>e.id)))}catch(e){W.current&&(p(`Error: ${e.message}`),l("സ്ഥലങ്ങൾ ലഭിക്കുന്നതിൽ പിശക് ഉണ്ടായി"),r(!1))}},e=>{if(!W.current)return;let s="നിങ്ങളുടെ സ്ഥാനം കണ്ടെത്താൻ കഴിഞ്ഞില്ല. ദയവായി ലൊക്കേഷൻ അനുമതി നൽകുക.";switch(e.code){case 1:s="ലൊക്കേഷൻ അനുമതി നിഷേധിച്ചു. ദയവായി ബ്രൗസർ സെറ്റിംഗ്സിൽ പോയി ലൊക്കേഷൻ അനുമതി നൽകുക.";break;case 2:s="നിങ്ങളുടെ സ്ഥാനം ലഭ്യമല്ല. ദയവായി വീണ്ടും ശ്രമിക്കുക.";break;case 3:s="ലൊക്കേഷൻ ലഭിക്കുന്നതിന് കാലതാമസം നേരിട്ടു. ദയവായി വീണ്ടും ശ്രമിക്കുക."}p(`Geolocation error: ${e.code} - ${e.message}`),l(s),r(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},[q]),X=async(e,a=q)=>{if(e.trim()){f(!0),l(null),p(`Searching for: ${e} with radius: ${a}km`),A(a);try{let t=await fetch(`/api/geocode?query=${encodeURIComponent(e)}`);if(!t.ok)throw Error(`Geocoding API responded with status: ${t.status}`);let i=await t.json();if(!i||0===i.length){p("No location found for the search query"),s([]),N(null),f(!1);return}let{lat:r,lon:n,formatted:l}=i[0];if(!r||!n)throw Error("Geocoding API returned invalid coordinates");p(`Found location: ${l} at ${r}, ${n}`),N({lat:r,lon:n,name:l});let c=`/api/tourist-locations?lat=${r}&lon=${n}&radius=${a}`;p(`Fetching locations from: ${c}`);let o=await fetch(c);if(!o.ok){let e=await o.text();throw Error(`Tourist locations API error: ${o.status} - ${e}`)}let d=await o.json();p(`Received ${d.length} locations for search query`),W.current&&(s(d),z(!0),B(d.slice(0,5).map(e=>e.id)))}catch(e){console.error("Search error:",e),p(`Search error: ${e.message}`),l("തിരയലിൽ പിശക് ഉണ്ടായി. ദയവായി വീണ്ടും ശ്രമിക്കുക."),s([])}finally{f(!1)}}},Z=e=>{if(!c){p("Cannot get directions: User location is not available");return}$(e),p(`Getting directions to: ${e.name}`),R(!0)},J=e=>{U(e),L(!0)},Q=async(e,a=q)=>{if(e){f(!0),l(null),p(`Searching in district: ${e.name} with radius: ${a}km`),A(a);try{let{lat:t,lon:i,name:r}=e;p(`Using coordinates: ${t}, ${i} for district: ${r}`),N({lat:t,lon:i,name:e.name});let n=`/api/tourist-locations?lat=${t}&lon=${i}&district=${e.englishName}&radius=${a}`;p(`Fetching locations from: ${n}`);let l=await fetch(n);if(!l.ok){let e=await l.text();throw Error(`Tourist locations API error: ${l.status} - ${e}`)}let c=await l.json();p(`Received ${c.length} locations for district: ${e.name}`),W.current&&(s(c),z(!0),B(c.slice(0,5).map(e=>e.id)))}catch(e){console.error("District search error:",e),p(`District search error: ${e.message}`),l("ജില്ലയിൽ തിരയുന്നതിൽ പിശക് ഉണ്ടായി. ദയവായി വീണ്ടും ശ്രമിക്കുക."),s([])}finally{f(!1)}}},Y=async(e,a,t)=>{p(`Updating locations with radius: ${t}km`);try{let i=await fetch(`/api/tourist-locations?lat=${e}&lon=${a}&radius=${t}`);if(!i.ok)throw Error(`API responded with status: ${i.status}`);let r=await i.json();p(`Received ${r.length} locations with ${t}km radius`),W.current&&(s(r),z(!0),B(r.slice(0,5).map(e=>e.id)))}catch(e){p(`Error updating locations: ${e.message}`),console.error("Error updating locations:",e)}},ee=(a,t)=>{a&&s(e.map(e=>e.id===t?{...e,imageUrl:a}:e))},es=e=>{O(e),_(!1)},ea=(e,s)=>{s&&(K.current[e]=s)};return a?(0,t.jsx)(I,{debugInfo:x}):n&&!j?(0,t.jsx)(P,{message:n,onRetry:V,debugInfo:x,onSearch:X,isSearching:v,onDistrictSelect:Q}):(0,t.jsxs)("div",{className:"container",children:[S&&k?(0,t.jsx)(M,{location:k,onClose:()=>{R(!1),$(null)}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsx)("h1",{children:"കേരളത്തിലെ ടൂറിസ്റ്റ് കേന്ദ്രങ്ങൾ"}),(0,t.jsx)("p",{className:"subtitle",children:j?`${j.name} സ്ഥലത്തിന് സമീപമുള്ള ആകർഷണീയമായ സ്ഥലങ്ങൾ`:"നിങ്ങളുടെ സ്ഥാനത്തിന് സമീപമുള്ള ആകർഷണീയമായ സ്ഥലങ്ങൾ കണ്ടെത്തുക"}),c&&!j&&(0,t.jsxs)("div",{className:"location-indicator",children:[(0,t.jsx)(d,{className:"icon-small"}),(0,t.jsx)("span",{children:"നിങ്ങളുടെ നിലവിലെ സ്ഥാനത്തിൽ നിന്നുള്ള ദൂരം കാണിക്കുന്നു"})]}),j&&(0,t.jsxs)("button",{className:"back-to-current-button",onClick:()=>{N(null),V()},children:[(0,t.jsx)(h,{className:"icon-small"}),"നിങ്ങളുടെ സ്ഥാനത്തിലേക്ക് മടങ്ങുക"]})]}),(0,t.jsx)(C,{onSearch:X,isSearching:v,onDistrictSelect:Q,onRadiusChange:e=>{A(e),j?X(j.name,e):c&&Y(c.lat,c.lon,e)},initialRadius:q}),x&&(0,t.jsxs)("div",{className:"debug-info",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Debug:"})," ",x]}),!F&&e.length>0&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," Loading images..."]})]}),(0,t.jsxs)("div",{className:"main-content-with-sidebar",children:[(0,t.jsx)("div",{className:"main-content",children:0===e.length?(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)(m,{className:"icon-large"}),(0,t.jsx)("h3",{children:j?`${j.name} സ്ഥലത്തിന് സമീപം ടൂറിസ്റ്റ് കേന്ദ്രങ്ങളൊന്നും കണ്ടെത്തിയില്ല`:"സമീപത്തുള്ള ടൂറിസ്റ്റ് കേന്ദ്രങ്ങളൊന്നും കണ്ടെത്തിയില്ല"}),(0,t.jsx)("p",{children:j?"മറ്റൊരു സ്ഥലം തിരയുക അല്ലെങ്കിൽ നിങ്ങളുടെ സ്ഥാനത്തിലേക്ക് മടങ്ങുക.":"നിങ്ങളുടെ സ്ഥാനത്തിന് സമീപം ടൂറിസ്റ്റ് കേന്ദ്രങ്ങളൊന്നും കണ്ടെത്താൻ കഴിഞ്ഞില്ല. ദയവായി വീണ്ടും ശ്രമിക്കുക."}),!j&&(0,t.jsx)("button",{className:"retry-button",onClick:V,children:"വീണ്ടും ശ്രമിക്കുക"})]}):(0,t.jsx)("div",{className:`locations-grid ${F?"":"loading-images"}`,children:e.map(e=>(0,t.jsx)("div",{ref:s=>ea(e.id,s),"data-location-id":e.id,className:"location-card-wrapper",children:T.includes(e.id)&&(0,t.jsx)(w,{location:e,onGetDirections:()=>Z(e),showDirectionsButton:!!c,onViewMore:()=>J(e),onImageSearch:()=>es(e.name)})},e.id))})}),(0,t.jsxs)("div",{className:`sidebar ${H?"collapsed":""} sidebar-transition`,children:[(0,t.jsx)("button",{className:"toggle-sidebar-button",onClick:()=>{_(!H),H&&!G&&O("")},"aria-label":H?"Show image search":"Hide image search",children:H?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{}),"ചിത്രങ്ങൾ തിരയുക"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{}),"ചിത്ര തിരയൽ മറയ്ക്കുക"]})}),!H&&(0,t.jsx)(b,{locationName:G,onImageSelect:s=>{let a=e.find(e=>e.name===G);a&&ee(s,a.id)}})]})]})]}),D&&E&&(0,t.jsx)(y,{location:E,onClose:()=>L(!1),userLocation:c,onImageSelect:e=>{ee(e,E.id)}})]})}a(7458),a(6197),a(5221),a(1222),a(7596)},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1222:()=>{},2348:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>o});var t=a(5239),i=a(8088),r=a(8170),n=a.n(r),l=a(893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(s,c);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4179)),"C:\\Users\\HP\\OneDrive\\Desktop\\geoproject\\MiniProject\\NearbyLocations\\app\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,7824)),"C:\\Users\\HP\\OneDrive\\Desktop\\geoproject\\MiniProject\\NearbyLocations\\app\\layout.jsx"],loading:[()=>Promise.resolve().then(a.bind(a,3080)),"C:\\Users\\HP\\OneDrive\\Desktop\\geoproject\\MiniProject\\NearbyLocations\\app\\loading.jsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\Users\\HP\\OneDrive\\Desktop\\geoproject\\MiniProject\\NearbyLocations\\app\\page.jsx"],h={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3080:(e,s,a)=>{"use strict";function t(){return null}a.r(s),a.d(s,{default:()=>t})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4043:()=>{},4129:()=>{},4179:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\geoproject\\\\MiniProject\\\\NearbyLocations\\\\app\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\OneDrive\\Desktop\\geoproject\\MiniProject\\NearbyLocations\\app\\page.jsx","default")},4356:()=>{},4564:(e,s,a)=>{Promise.resolve().then(a.bind(a,4179))},5221:()=>{},5657:()=>{},6197:()=>{},6487:()=>{},7091:()=>{},7297:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,6346,23)),Promise.resolve().then(a.t.bind(a,7924,23)),Promise.resolve().then(a.t.bind(a,5656,23)),Promise.resolve().then(a.t.bind(a,99,23)),Promise.resolve().then(a.t.bind(a,8243,23)),Promise.resolve().then(a.t.bind(a,8827,23)),Promise.resolve().then(a.t.bind(a,2763,23)),Promise.resolve().then(a.t.bind(a,7173,23))},7300:(e,s,a)=>{Promise.resolve().then(a.bind(a,246))},7458:()=>{},7596:()=>{},7824:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l,metadata:()=>n});var t=a(7413),i=a(2543),r=a.n(i);a(2704);let n={title:"സമീപത്തുള്ള ടൂറിസ്റ്റ് കേന്ദ്രങ്ങൾ",description:"നിങ്ങളുടെ സ്ഥാനത്തിന് സമീപമുള്ള ടൂറിസ്റ്റ് കേന്ദ്രങ്ങൾ കണ്ടെത്തുക",generator:"v0.dev"};function l({children:e}){return(0,t.jsx)("html",{lang:"ml",children:(0,t.jsx)("body",{className:r().className,children:e})})}},7969:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,6444,23)),Promise.resolve().then(a.t.bind(a,6042,23)),Promise.resolve().then(a.t.bind(a,8170,23)),Promise.resolve().then(a.t.bind(a,9477,23)),Promise.resolve().then(a.t.bind(a,9345,23)),Promise.resolve().then(a.t.bind(a,2089,23)),Promise.resolve().then(a.t.bind(a,6577,23)),Promise.resolve().then(a.t.bind(a,1307,23))},8335:()=>{},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9340:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[447,807],()=>a(2348));module.exports=t})();